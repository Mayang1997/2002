<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    Ajax 


    <script>
        // 数据提交的方式：表单提交 / ajax提交

            // 一：表单提交
            /* 
                1：通过表单submit触发，提交到form中action属性地址，使用的方法是method给出的
                2：缺点：这种提交的方式时跳转页面的
            */

            // 二：ajax 提交
            /* 
                1：不能触发submit,而是通过按钮点击,直接使用ajax发送给服务端
                2：发送到的地址就是open中的第二个参数,发送方法就是open的第一个参数
                3：不需要跳转页面
                4：缺陷：部分内容无法进行SEO优化
            */
        // 以上两种提交的方式只能二选一

        // 表单属性：Method   GET/POST/PUT/DELETE   提交数据的方式
            /* 
                一：GET
                1：通过地址栏后面?带入字符串,字符串格式是变量=值&变量=值的方式传递数据给服务器
                2：这种方式仅仅去服务端获取，没有单独传递数据，并且从服务端获取需要内容，这个就是GET
                3：传递给服务器的数据少，而且是明文传递，只能使用字符串，并且数据无法进行多样性嵌套
                4：如果地址是当前页面锚点是可以提交提交页面
                5：使用表单提交时，是跳转页面，跳转就不需要考虑回来的问题，所以不牵扯跨域
            */
            /* 
                二：POST
                1：数据不是通过地址栏发送，通过数据握手后信道发送数据，并且会将数据转换为二进制数据发送
                2：给服务器，传送数据可以是任意复杂度数据，但是传送的数据类型，包含了字符串，二进制流其他一些格式 
                3：ajax是访问别的网站并且将数据取回，这就需要考虑跨域问题
            */



    // Ajax 的open()方法
        // open的五个参数：open(method,url,async,userName,password)
        /* 
            1: method :发送数据的方式 GET/POST
            2: url: 表示发送的地址 - 如果是GEt方式，就数据就在？后增 参数=值
            3：async：异步,默认是true,默认是异步返回数据,如果设置为false,表示同步等待
            4：userName,password：open的第四个和第五个参数是用户名和密码,有些地址访问是需要用户名和密码
        */

        // 请求头：直接通过post发送给php,php无法接收到数据
        // 设置请求头：需要通过POST发送数据给php页面,就需要写这个请求头,给nodejs服务发送POST请求时不用写
        var xhr = new XMLHttpRequest()
        xhr.addEventListener("load",loadHandler)
        xhr.open("POST","http://localhost:4010/a.php")
        // 请求头必须写在open之后,send之前
        xhr.setRequestHeader("content-type","application/x-www-form-urlencoded")
        xhr.send()

        // 总结：
        /* 
            1\表单提交还是ajax发送,表单不需要跨域,ajax需要考虑跨域
            2\使用GET还是使用POST,数据发送的形式不同,一个是地址后缀,一个是send发送
            3\如果使用POST,是发送给NodeJs还是发送给PHP,服务器语言不同,处理方式不同
            4\AJAX--->POST--->PHP  需要写请求头xhr.setRequestHeader
        */
    </script>
</body>
</html>